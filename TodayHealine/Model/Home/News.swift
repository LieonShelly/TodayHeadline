//
//  News.swift
//  TodayHealine
//
//  Created by lieon on 2017/1/17.
//  Copyright © 2017年 ChangHongCloudTechService. All rights reserved.
//

import UIKit
import ObjectMapper

/**
 "read_count":10679251,
 "ban_comment":0,
 "abstract":"习近平访问瑞士 出席年会 为世界经济贡献中国智慧",
 "image_list":Array[0],
 "like_count":383,
 "has_video":false,
 "article_type":1,
 "tag":"news_world",
 "has_m3u8_video":0,
 "keywords":"开幕式,习近平,瑞士,世界经济论坛",
 "rid":"201701172023051720171970021099A1",
 "label":"置顶",
 "show_portrait_article":false,
 "user_verified":0,
 "aggr_type":1,
 "cell_type":0,
 "article_sub_type":0,
 "bury_count":123,
 "title":"习近平出席世界经济论坛2017年年会开幕式并发表主旨演讲",
 "ignore_web_transform":1,
 "source_icon_style":2,
 "tip":0,
 "hot":0,
 "share_url":"http://toutiao.com/group/6374658936930304514/?iid=7429513344&app=news_article",
 "has_mp4_video":0,
 "source":"专题",
 "comment_count":838,
 "article_url":"http://a3.pstatp.com/subject2/6374658936930304514/?version=0",
 "filter_words":Array[0],
 "stick_label":"置顶",
 "publish_time":1484653073,
 "action_list":Array[4],
 "has_image":false,
 "cell_layout_style":1,
 "tag_id":6374658936930305000,
 "video_style":0,
 "verified_content":"",
 "display_url":"http://a3.pstatp.com/subject2/6374658936930304514/?version=0",
 "is_stick":true,
 "large_image_list":Array[0],
 "item_id":6374658938628998000,
 "is_subject":true,
 "stick_style":1,
 "show_portrait":false,
 "repin_count":77014,
 "cell_flag":11,
 "source_open_url":"sslocal://search?from=feed_source&keyword=%E4%B8%93%E9%A2%98",
 "level":0,
 "source_avatar":"http://p1.pstatp.com/medium/dd30000ce5593c8c44a",
 "digg_count":383,
 "behot_time":1484655785,
 "article_alt_url":"http://toutiao.com/group/article/6374658936930304514/",
 "cursor":1484655785999,
 "url":"http://a3.pstatp.com/subject2/6374658936930304514/?version=0",
 "preload_web":1,
 "user_repin":0,
 "label_style":1,
 "item_version":0,
 "group_id":6374658936930305000,
 "middle_image":Object{...}
 */

/**
 {
 "read_count":845085,
 "video_id":"9635591bfc714685a0444da0201f7e46",
 "media_name":"酷猫播客",
 "ban_comment":0,
 "abstract":"几年前，热衷于点评社会热点的周立波，在自己的节目上模仿过网络红人凤姐，讽刺她低俗。然后凤姐很云淡风轻地说自己曾经看过周立波的一本书，叫《暴风骤雨》。近日，周立波美国被捕的消息沸沸扬扬，身处美国的凤姐也不忘调侃下这位老朋友。",
 "video_detail_info":Object{...},
 "image_list":Array[0],
 "has_video":true,
 "article_type":0,
 "tag":"news_entertainment",
 "has_m3u8_video":0,
 "keywords":"网络红人,美国,凤姐,周立波,暴风骤雨",
 "video_duration":147,
 "show_portrait_article":false,
 "user_verified":0,
 "aggr_type":1,
 "cell_type":0,
 "article_sub_type":0,
 "group_flags":32833,
 "bury_count":706,
 "title":"凤姐调侃周立波再也无缘来美国了",
 "ignore_web_transform":1,
 "source_icon_style":5,
 "tip":0,
 "hot":0,
 "share_url":"http://toutiao.com/a6378085680274211330/?iid=7429513344&app=news_article",
 "has_mp4_video":0,
 "source":"酷猫播客",
 "comment_count":7582,
 "article_url":"http://toutiao.com/group/6378085680274211330/",
 "filter_words":Array[8],
 "rid":"20170122143650172017073008002950",
 "video_play_info":"{"status":10,"message":"success","video_duration":147.2,"video_list":{"video_1":{"definition":"360p","vtype":"mp4","vwidth":640,"vheight":360,"bitrate":187622,"size":4693884,"main_url":"aHR0cDovL3Y3LnBzdGF0cC5jb20vNGVkMWNjNDFhNmVjMDQ1YTBmYmMxYjI4ZTFhOWU4ZjMvNTg4NDUzMDIvdmlkZW8vbS8yMjAwYWI2NzhiZTVlNjc0YzExYTE0N2MzNWUyMjg2NDQ4NjExNDJjYzgwMDAwMGI0NjEyYTZkMzExLw==","backup_url_1":"aHR0cDovL3Y2LnBzdGF0cC5jb20vdmlkZW8vbS8yMjAwYWI2NzhiZTVlNjc0YzExYTE0N2MzNWUyMjg2NDQ4NjExNDJjYzgwMDAwMGI0NjEyYTZkMzExLz9FeHBpcmVzPTE0ODUwNzA2MTAmQVdTQWNjZXNzS2V5SWQ9cWgwaDlUZGNFTXJtMVZsUjJhZCUyRiZTaWduYXR1cmU9Q1duZiUyQkxuOXFHY0JTME14OXN2ZGlqZklhd0ElM0Q=","preload_size":327680,"play_load_min_step":2,"play_load_max_step":10},"video_2":{"definition":"480p","vtype":"mp4","vwidth":854,"vheight":480,"bitrate":279422,"size":6383408,"main_url":"aHR0cDovL3Y2LnBzdGF0cC5jb20vdmlkZW8vbS8yMjA0YTcyMGU3ODljNmI0MjQyOGNlYmVlNTgxOTQ1NmY1NjExNDJkMGUwMDAwMjJmNmFiNDQwYTNlLz9FeHBpcmVzPTE0ODUwNzA2MTAmQVdTQWNjZXNzS2V5SWQ9cWgwaDlUZGNFTXJtMVZsUjJhZCUyRiZTaWduYXR1cmU9R2gyeXlCSkdmRnhmWDFrdzBFRzFhUXp3OUZjJTNE","backup_url_1":"aHR0cDovL3Y0LnBzdGF0cC5jb20vZmMwNGM0NjJlMjczZDRjZmYxMzQwYTYyOTcxYWY5MjkvNTg4NDUzMDIvdmlkZW8vbS8yMjA0YTcyMGU3ODljNmI0MjQyOGNlYmVlNTgxOTQ1NmY1NjExNDJkMGUwMDAwMjJmNmFiNDQwYTNlLw==","preload_size":327680,"play_load_min_step":2,"play_load_max_step":10},"video_3":{"definition":"720p","vtype":"mp4","vwidth":1280,"vheight":720,"bitrate":564241,"size":11624024,"main_url":"aHR0cDovL3Y3LnBzdGF0cC5jb20vZGVjZjlkNWUzMWNlMzlhZDI2MzMwNGI5YmFlMjAxZGQvNTg4NDUzMDIvdmlkZW8vbS8yMjAxMGVhYTU5OGUzZTE0MWM3OTUxZTc4YjBiZmEzODhlYjExNDJjNTMwMDAwMjdmMTVlMGY0MWNlLw==","backup_url_1":"aHR0cDovL3Y2LnBzdGF0cC5jb20vdmlkZW8vbS8yMjAxMGVhYTU5OGUzZTE0MWM3OTUxZTc4YjBiZmEzODhlYjExNDJjNTMwMDAwMjdmMTVlMGY0MWNlLz9FeHBpcmVzPTE0ODUwNzA2MTAmQVdTQWNjZXNzS2V5SWQ9cWgwaDlUZGNFTXJtMVZsUjJhZCUyRiZTaWduYXR1cmU9MjhhbzJTTGtXSDRvRm9ad2lnVnpZb3lPUmpFJTNE","preload_size":327680,"play_load_min_step":2,"play_load_max_step":10}}}",
 "publish_time":1485013794,
 "action_list":Array[4],
 "cell_layout_style":1,
 "tag_id":6378085680274212000,
 "video_style":2,
 "verified_content":"",
 "display_url":"http://toutiao.com/group/6378085680274211330/",
 "large_image_list":Array[1],
 "item_id":6378085680274212000,
 "is_subject":false,
 "show_portrait":false,
 "repin_count":3288,
 "cell_flag":75,
 "user_info":Object{...},
 "source_open_url":"sslocal://media_account?media_id=50064273055",
 "level":0,
 "like_count":1817,
 "digg_count":1817,
 "behot_time":1485066724,
 "cursor":1485066724999,
 "url":"http://toutiao.com/group/6378085680274211330/",
 "preload_web":0,
 "user_repin":0,
 "has_image":false,
 "item_version":0,
 "media_info":Object{...},
 "group_id":6378085680274212000,
 "middle_image":Object{...}
 }
 */

enum NewsType: String {
    case noImage = "0"
    case oneImage = "1"
    case threeImage = "2"
    case recommandVideo = "3"
}

class News: Model {
    var title: String = ""
    var label: String = ""
    var source: String = ""
    var commentCount: Int = 0
    var publishTime: Double = 0.0
    var cellType: NewsType = .noImage 

   override func mapping(map: Map) {
        title <- map["title"]
        label <- map["stick_label"]
        source <- map["source"]
        commentCount <- map["comment_count"]
        publishTime <- map["publish_time"]
        cellType <- map["cell_type"]
    }
}

class NoImageNews: News { }

class ThreeImageNews: News {
    var imagesURL: [URL?]?
    
   override  func mapping(map: Map) {
        imagesURL <- (map["image_urls"], ArrayOfURLTransform())
    }
}

class OneImageNews: News {
    var imageURL: URL?
    
    override func mapping(map: Map) {
        imageURL <- (map["image_urls"], ArrayOfURLTransform()).0
    }
}

class RecomandViewNews: News {
    var bigImageURL: URL?
    
}
